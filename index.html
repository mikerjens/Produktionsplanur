<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KRENKARIRNIR ¬∑ Produktionsportal</title>
  <style>
    :root{ --bg:#0f1115;--panel:#151922;--muted:#8b94a7;--text:#e9eef7;--accent:#7dd3fc;--accent2:#a3e635;--danger:#f87171;--ok:#34d399;--card:#0c0f15;--chip:#1f2531 }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;color:var(--text);background:linear-gradient(180deg,#0b0e13 0%,#0f1115 60%,#0d1016 100%) fixed}
    a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
    .app{max-width:1200px;margin:24px auto;padding:16px}
    .brand{display:flex;align-items:center;gap:12px;cursor:pointer}
    .logo{width:42px;height:42px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#60a5fa);display:grid;place-items:center;font-weight:800;color:#0b0e13;box-shadow:0 6px 18px rgba(125,211,252,.25)}
    h1{margin:0;font-size:22px;letter-spacing:.3px}
    .sub{color:var(--muted);font-size:12px;margin-top:2px}
    header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:12px;padding:14px 18px;border:1px solid #232838;background:linear-gradient(180deg,#151a22,#121723);border-radius:16px}
    .controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .select, .search{position:relative}
    input, select, button{background:#0d1118;color:var(--text);border:1px solid #263047;border-radius:12px;padding:10px 12px;font-size:14px}
    select{padding-right:36px} button{cursor:pointer}
    .pill{background:var(--chip);border:1px solid #2a3446;border-radius:999px;padding:8px 12px;color:var(--muted);font-size:12px}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:16px;margin-top:16px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg,#121723,#0e131c);border:1px solid #232b3b;border-radius:16px;overflow:hidden}
    .card .hd{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid #232b3b;background:radial-gradient(1200px 300px at -10% -40%,rgba(125,211,252,.06),transparent)}
    .card .bd{padding:14px 16px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{border-radius:12px;border:1px solid #2a3446;padding:8px 12px;background:#0d1118;color:var(--muted)}
    .tab[aria-selected="true"]{color:#091017;background:linear-gradient(180deg,#9ae6b4,#60d7fb);border-color:#60d7fb;font-weight:600}
    .list{display:flex;flex-direction:column;gap:10px}
    .row{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:10px 12px;border:1px solid #242c3b;border-radius:12px;background:#0c1118}
    .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid #2a3446;border-radius:999px;background:#0b1017;color:var(--muted);font-size:12px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
    .muted{color:var(--muted)} .kicker{font-size:11px;letter-spacing:.4px;color:var(--muted);text-transform:uppercase}
    .title{font-weight:700} .two{display:grid;grid-template-columns:1fr 1fr;gap:10px} @media(max-width:700px){.two{grid-template-columns:1fr}}
    .section{margin-top:12px} .section h3{margin:0 0 8px 0;font-size:14px;color:#cfe6ff}
    .print{border:1px dashed #2a3446} .footer{margin:18px 0 6px;color:var(--muted);font-size:12px;text-align:center}
    .divider{height:1px;background:#222a3a;margin:10px 0} .small{font-size:12px}

    /* Forum UI */
    .forumWrap{display:grid;grid-template-columns:340px 1fr;gap:12px}
    @media (max-width:900px){.forumWrap{grid-template-columns:1fr}}
    .topics{border:1px solid #242c3b;border-radius:12px;background:#0b1017;max-height:560px;overflow:auto}
    .topics .hd, .thread .hd{display:flex;align-items:center;justify-content:space-between;padding:12px 12px;border-bottom:1px solid #242c3b}
    .topic{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px dashed #1d2534;cursor:pointer}
    .topic:hover{background:#0f1520}
    .topic.active{background:linear-gradient(180deg,#101a2c,#0d1522)}
    .topic .meta{font-size:12px;color:var(--muted)}
    .thread{border:1px solid #242c3b;border-radius:12px;background:#0b1017;min-height:560px}
    .posts{display:flex;flex-direction:column;gap:10px;padding:12px;max-height:460px;overflow:auto}
    .post{border:1px solid #253149;border-radius:10px;background:#121826;padding:8px 10px}
    .post .meta{font-size:11px;color:var(--muted);margin-bottom:4px}
    .composer{display:flex;gap:8px;padding:10px;border-top:1px solid #242c3b}
    .composer textarea{flex:1;min-height:60px;max-height:160px;resize:vertical;background:#0d1118;border:1px solid #263047;border-radius:10px;color:var(--text);padding:8px}
    .newThreadBox{padding:10px;border-top:1px dashed #242c3b;display:none;gap:8px}
    .newThreadBox input{width:100%;background:#0d1118;border:1px solid #263047;border-radius:10px;color:var(--text);padding:8px;margin-bottom:8px}
  </style>

  <!-- Firebase (Compat SDK) -->
      </head>
<body>
  <div class="app" id="app">
    <header>
      <div class="brand" id="brand">
        <div class="logo">KR</div>
        <div>
          <h1>KRENKARIRNIR ¬∑ Produktionsportal</h1>
          <div class="sub">V√¶lg navn ‚Üí dit skema ¬∑ Call sheets ¬∑ Kontakter</div>
        </div>
      </div>
      <div class="controls">
        <div class="select">
          <select id="personSelect" title="V√¶lg navn">
            <option value="">‚Äî V√¶lg navn ‚Äî</option>
          </select>
        </div>
        <div class="search">
          <input id="search" placeholder="S√∏g i kontakter & call sheets" />
        </div>
        <button id="print" class="print" title="Print eller gem som PDF">üñ®Ô∏è Print</button>
      </div>
    </header>

    <div class="grid">
      <div class="card" id="myDay">
        <div class="hd">
          <div>
            <div class="kicker">Mit skema</div>
            <div class="title" id="myDayTitle">V√¶lg et navn</div>
          </div>
          <div class="tabs">
            <button class="tab" id="tab-day" aria-selected="true">Mit skema</button>
            <button class="tab" id="tab-calls">Call sheets</button>
            <button class="tab" id="tab-contacts">Kontakter</button>
          </div>
        </div>
        <div class="bd" id="panel">
          <p class="muted small">V√¶lg et navn ovenfor for at se dine optagedage, m√∏detider, sted og dagsprogram. Klik p√• "KR" for at g√• til forsiden.</p>
        </div>
      </div>

      <div class="card">
        <div class="hd">
          <div>
            <div class="kicker">N√¶ste optagedage</div>
            <div class="title">Overblik</div>
          </div>
        </div>
        <div class="bd" id="nextDays"></div>
      </div>
    </div>

    <div class="footer">Prototype ¬∑ Version 0.6 (DK + forum) ¬∑ ¬© KOVBOY FILM</div>
  </div>

  <script>
  // ---------- DATA ----------
  const people = {
    'Michael Koba':      { role: 'Producer', phone: '591011', email: 'mk@fixer.fo' },
    'Thomas Koba':       { role: 'Instrukt√∏r', phone: '213457', email: 'thomas@kovboyfilm.com' },
    'J√≥nfinn Stenberg':  { role: 'Foto', phone: '296682', email: 'jonfinn_stenberg@hotmail.com' },
    'Hans Petur Hansen': { role: 'Lys', phone: '296652', email: 'hph@kvf.fo' },
    'Anna Kristin B√¶k':  { role: 'Props & design', phone: '265180', email: 'kristin.baek@gmail.com' },
    'H√∏gni Fagraberg':   { role: 'Lyd', phone: '296659', email: 'h.fagraberg@gmail.com' },
    'Ronni Poulsen':     { role: 'Lyd', phone: '794141', email: 'ronni.poulsen@gmail.com' },
    'Julia Jacobsen':    { role: 'Make-up', phone: '251175', email: 'juliajacobsen@outlook.com' },
    'Sunneva H√°berg Eysturstein': { role: 'Location ¬∑ SIRKUS', phone: '503136', email: 'sirkus@sirkus.fo' },
    'Petur H√°berg':      { role: 'Location ¬∑ Hvarvi√∞ 3', phone: '213090', email: '' },
    'R√≥sa Maria Restorff': { role: 'Location ¬∑ Hotel F√∏royar', phone: '', email: 'rosamaria@hotelforoyar.fo' },
    'Katrin Kallsberg':  { role: 'Location ¬∑ Dr. Dahlsg√∏ta 15', phone: '218208', email: 'katrinkallsberg@gmail.com' },
    'Esther √° Fjallinum': { role: 'Skuespiller ¬∑ J√≥hanna', phone: '265069', email: 'estherafjallinum@gmail.com' },
    'Hans T√≥rgar√∞':      { role: 'Skuespiller ¬∑ Holgar', phone: '229342', email: 'hanstorgar@gmail.com' },
    'Elsa Maria Magnusard√≥ttir Olsen': { role: 'Skuespiller ¬∑ Ruth', phone: '507104', email: 'emmocontact@gmail.com' },
    'Hj√°lmar Dam':       { role: 'Skuespiller ¬∑ H√∏gni', phone: '512449', email: 'helmetsdam@gmail.com' },
    'Marius DC':         { role: 'Skuespiller ¬∑ Danny', phone: '582161', email: 'mariusdamchr@gmail.com' },
    'Bj√∏rn Simonsen Ulvedal': { role: 'Skuespiller ¬∑ L√≠ggjas', phone: '222867', email: 'bjorn.simonsen@gmail.com' },
    'Hanna Fl√≥vinsd√≥ttir': { role: 'Skuespiller', phone: '218007', email: 'hannaflov@hotmail.com' },
    'S√≥ley Herad√≥ttir Hammer': { role: 'Skuespiller', phone: '', email: 'soleyhh@torshavn.fo' },
    'S√∫sanna Laursen':   { role: 'Skuespiller', phone: '', email: 'susannal@torshavn.fo' },
    'L√≠v Bruun Muller':  { role: 'Skuespiller', phone: '591414', email: 'livbruunmuller@gmail.com' },
    '√Åsa Helena Brynjard√≥ttir': { role: 'Skuespiller', phone: '261660', email: 'asahelena@outlook.dk' },
    'Edwin Niclassen':   { role: 'Skuespiller', phone: '597264', email: 'edvinhniclasen@gmail.com' },
    'P√°ll Oddur':        { role: 'Skuespiller ¬∑ J√≥hannas mand', phone: '252421', email: 'palloddur@hotmail.com' },
    'Thora Augustinussen': { role: 'Skuespiller ¬∑ Chef/Reception', phone: '', email: 'ta@faer.fo' },
    'Jaspur J√∏rgensen':  { role: 'Skuespiller ¬∑ Kok', phone: '227570', email: 'jj@hotelbrandan.fo' },
    'T√≥rur √Årnastein':   { role: 'Skuespiller ¬∑ Kok', phone: '266858', email: 'torurarnastein@gmail.com' },
    'Helena':            { role: 'Statist ¬∑ Kaffemaskine', phone: '', email: 'helena.h.jorgensen@gmail.com' },
    'Astri√∞ Gullborgard√≥ttir': { role: 'Statist ¬∑ Advokat', phone: '274450', email: 'gullborgardottir@gmail.com' },
    'T√≥rur vi√∞ √Åir':     { role: 'Statist ¬∑ Advokat', phone: '239403', email: '' },
    'Politibetjent A':   { role: 'Statist ¬∑ Politi', phone: '', email: 'SLE021@politi.dk' },
    'Politibetjent B':   { role: 'Statist ¬∑ Politi', phone: '', email: 'SLE021@politi.dk' },
    'Ukendt statist G':  { role: 'Statist', phone: '', email: '' },
    'Ukendt statist H':  { role: 'Statist', phone: '', email: '' },
    'Ukendt statist I':  { role: 'Statist', phone: '', email: '' },
  };

  const P = (names)=>names.map(n=>({ name:n, ...(people[n]||{role:'',phone:'',email:''}) }));

  const days = [
    // 23 Sep ‚Äî Flashback 1A ¬∑ SIRKUS
    { id:'2025-09-23', date:'Tirsdag 23. september 2025', title:'Flashback 1A ¬∑ SIRKUS', location:{name:'Sirkus bar', address:'T√≥rshavn'},
      program:[
        {time:'16:00', text:'Teknisk crew g√∏r scenen klar i Sirkus (HPH, Thomas, J√≥nfinn)'},
        {time:'18:15', text:'Skuespillere m√∏der til make-up & kostume (Marius, Hanna, S√≥ley, S√∫sanna). Spis hjemme p√• forh√•nd.'},
        {time:'19:30', text:'Optagelse starter'},
        {time:'21:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','J√≥nfinn Stenberg','Hans Petur Hansen','Julia Jacobsen']),
      cast:P(['Marius DC','Hanna Fl√≥vinsd√≥ttir','S√≥ley Herad√≥ttir Hammer','S√∫sanna Laursen','Ukendt statist G','Ukendt statist H','Ukendt statist I','Sunneva H√°berg Eysturstein'])
    },

    // 7 Oct ‚Äî Flashback 2 ¬∑ Festen
    { id:'2025-10-07', date:'Tirsdag 7. oktober 2025', title:'Flashback 2 ¬∑ Festen ved L√≠ggjas', location:{name:'Hvarvi√∞ 3, kld.', address:'T√≥rshavn'},
      program:[
        {time:'14:00', text:'Crew g√∏r scenen klar (Hans Petur, Thomas, Michael, Anna Kristin, Ronni)'},
        {time:'15:15', text:'Skuespillere & make-up m√∏des i Hugskoti√∞ (Bj√∏rn, L√≠v, √Åsa, Edwin). Julia hj√¶lper ‚Äì fri 16:15'},
        {time:'16:30', text:'Optagelse starter p√• location: Hvarvi√∞ 3, kld.'},
        {time:'19:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Hans Petur Hansen','Anna Kristin B√¶k','Ronni Poulsen','Julia Jacobsen','Petur H√°berg']),
      cast:P(['Bj√∏rn Simonsen Ulvedal','L√≠v Bruun Muller','√Åsa Helena Brynjard√≥ttir','Edwin Niclassen'])
    },

    // 17 Oct ‚Äî Klarg√∏ring terapilokale
    { id:'2025-10-17', date:'Fredag 17. oktober 2025', title:'Klarg√∏ring af terapilokale', location:{name:'Aulaen, Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'11:00', text:'Lys & instrukt√∏r m√∏der (Hans Petur, Thomas)'},
        {time:'16:00', text:'Foto & Lyd m√∏der (J√≥nfinn, H√∏gni)'},
        {time:'11:00', text:'Props & design klarg√∏ring (Anna Kristin)'}
      ],
      crew:P(['Michael Koba','Thomas Koba','J√≥nfinn Stenberg','Hans Petur Hansen','Anna Kristin B√¶k','H√∏gni Fagraberg']),
      cast:P([])
    },

    // 19 Oct ‚Äî Ruth flirter med tjener
    { id:'2025-10-19', date:'S√∏ndag 19. oktober 2025', title:'Flashback 4 ¬∑ Ruth flirter med tjener', location:{name:'Hotel Brandan ¬∑ Rest. H√∫sagar√∞ur & k√∏kken', address:'T√≥rshavn'},
      program:[
        {time:'14:00', text:'Lys, instrukt√∏r og producer m√∏der (Hans Petur, Thomas, Michael)'},
        {time:'14:45', text:'Props & design m√∏der (Anna Kristin)'},
        {time:'15:00', text:'Skuespillere m√∏der (Elsa Maria, T√≥rur, Jaspur). Make-up m√∏der'},
        {time:'15:30', text:'Optagelse starter'},
        {time:'18:30', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Hans Petur Hansen','Anna Kristin B√¶k','Julia Jacobsen']),
      cast:P(['Elsa Maria Magnusard√≥ttir Olsen','T√≥rur √Årnastein','Jaspur J√∏rgensen'])
    },

    // 1 Nov ‚Äî Terapilokale dag 1
    { id:'2025-11-01', date:'L√∏rdag 1. november 2025', title:'Optagelser i terapilokale ¬∑ Dag 1', location:{name:'Aulaen, Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'06:00', text:'M√∏detid for hele crewet. Skuesp.: Bj√∏rn & Marius til make-up.'},
        {time:'06:30', text:'Hj√°lmar & Elsa Maria til make-up/kostume'},
        {time:'07:00', text:'Esther & Hans til make-up/kostume'},
        {time:'07:01', text:'Morgenmad til alle'},
        {time:'08:00', text:'Optagelse starter'},
        {time:'10:30', text:'Kaffepause'},
        {time:'12:30', text:'Frokost'},
        {time:'15:30', text:'Kaffepause'},
        {time:'19:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','J√≥nfinn Stenberg','Hans Petur Hansen','Anna Kristin B√¶k','H√∏gni Fagraberg','Julia Jacobsen']),
      cast:P(['Esther √° Fjallinum','Hans T√≥rgar√∞','Elsa Maria Magnusard√≥ttir Olsen','Hj√°lmar Dam','Marius DC','Bj√∏rn Simonsen Ulvedal'])
    },

    // 2 Nov ‚Äî Terapilokale dag 2
    { id:'2025-11-02', date:'S√∏ndag 2. november 2025', title:'Optagelser i terapilokale ¬∑ Dag 2', location:{name:'Aulaen, Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'06:00', text:'Crew m√∏der ¬∑ fortsatte terapiscener'},
        {time:'08:00', text:'Optagelse starter'},
        {time:'12:30', text:'Frokost'},
        {time:'19:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','J√≥nfinn Stenberg','Hans Petur Hansen','Anna Kristin B√¶k','H√∏gni Fagraberg','Julia Jacobsen']),
      cast:P(['Esther √° Fjallinum','Hans T√≥rgar√∞','Elsa Maria Magnusard√≥ttir Olsen','Hj√°lmar Dam','Marius DC','Bj√∏rn Simonsen Ulvedal'])
    },

    // 3 Nov ‚Äî Flashback 1B ¬∑ Dannys flirt
    { id:'2025-11-03', date:'Mandag 3. november 2025', title:'Flashback 1B ¬∑ Dannys flirt', location:{name:'Studio 016 ¬∑ Hotel F√∏royar', address:'T√≥rshavn'},
      program:[
        {time:'16:00', text:'Teknisk crew g√∏r scenen klar (HPH, Thomas, J√≥nfinn, Anna Kristin, Ronni)'},
        {time:'17:30', text:'Marius & Hanna til make-up/kostume'},
        {time:'18:15', text:'Optagelse starter'},
        {time:'19:30', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','J√≥nfinn Stenberg','Hans Petur Hansen','Anna Kristin B√¶k','Ronni Poulsen','Julia Jacobsen','R√≥sa Maria Restorff']),
      cast:P(['Marius DC','Hanna Fl√≥vinsd√≥ttir'])
    },

    // 5 Nov ‚Äî Esther hjemme
    { id:'2025-11-05', date:'Onsdag 5. november 2025', title:'Esther hjemme-scene', location:{name:'Dr. Dahlsg√∏ta 15', address:'T√≥rshavn'},
      program:[
        {time:'14:00', text:'Crew m√∏der (Hans Petur, Thomas, Ronni)'},
        {time:'15:15', text:'P√°ll Oddur & Esther m√∏der'},
        {time:'16:15', text:'Make-up (Julia) ¬∑ set-up'},
        {time:'16:15', text:'Optagelse starter'},
        {time:'19:30', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Hans Petur Hansen','Anna Kristin B√¶k','Ronni Poulsen','Julia Jacobsen','Katrin Kallsberg']),
      cast:P(['P√°ll Oddur','Esther √° Fjallinum'])
    },

    // 7 Nov ‚Äî Chef kontor
    { id:'2025-11-07', date:'Fredag 7. november 2025', title:'Chef kontor', location:{name:'Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'10:00', text:'Anna Kristin designer rummet som kontor (efter aftale med instrukt√∏r/producer)'},
        {time:'13:00', text:'Crew m√∏der (Hans Petur, Thomas, Ronni, Anna Kristin)'},
        {time:'14:15', text:'Skuespillere m√∏der (Esther, Hans, Thora) ¬∑ Make-up & kostume'},
        {time:'16:00', text:'Optagelse starter'},
        {time:'18:00', text:'Pause / sandwich'},
        {time:'18:30', text:'Optagelse forts√¶tter'},
        {time:'20:30', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Hans Petur Hansen','Anna Kristin B√¶k','Ronni Poulsen','Julia Jacobsen']),
      cast:P(['Esther √° Fjallinum','Hans T√≥rgar√∞','Thora Augustinussen'])
    },

    // 8 Nov ‚Äî K√∏rerscener & parkering
    { id:'2025-11-08', date:'L√∏rdag 8. november 2025', title:'K√∏rerscener & parkering', location:{name:'Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'13:00', text:'Crew m√∏der (Hans Petur, Thomas, Ronni, Anna Kristin)'},
        {time:'13:15', text:'Skuespillere m√∏der (Hans T√≥rgar√∞, Esther, Politi A & B). Make-up 13:15‚Äì14:15'},
        {time:'14:15', text:'Optagelse starter'},
        {time:'18:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Hans Petur Hansen','Anna Kristin B√¶k','Ronni Poulsen','Julia Jacobsen']),
      cast:P(['Esther √° Fjallinum','Hans T√≥rgar√∞','Thora Augustinussen','Politibetjent A','Politibetjent B'])
    },

    // 22 Nov ‚Äî Terapilokale fortsat
    { id:'2025-11-22', date:'L√∏rdag 22. november 2025', title:'Optagelser i terapilokale', location:{name:'Aulaen, Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'06:00', text:'Crew & skuespillere m√∏der. Marius & Bj√∏rn til make-up'},
        {time:'06:30', text:'Hj√°lmar & Elsa Maria til make-up'},
        {time:'07:00', text:'Esther & Hans til make-up'},
        {time:'08:00', text:'Optagelse starter'},
        {time:'12:30', text:'Frokost'},
        {time:'19:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Julia Jacobsen','J√≥nfinn Stenberg','Hans Petur Hansen','Anna Kristin B√¶k','H√∏gni Fagraberg']),
      cast:P(['Esther √° Fjallinum','Hans T√≥rgar√∞','Elsa Maria Magnusard√≥ttir Olsen','Hj√°lmar Dam','Marius DC','Bj√∏rn Simonsen Ulvedal'])
    },

    // 23 Nov ‚Äî Terapilokale fortsat
    { id:'2025-11-23', date:'S√∏ndag 23. november 2025', title:'Optagelser i terapilokale (fortsat)', location:{name:'Aulaen, Studentask√∫lin √≠ Hoyd√∏lum', address:''},
      program:[
        {time:'06:00', text:'Crew & skuespillere m√∏der'},
        {time:'08:00', text:'Optagelse starter'},
        {time:'12:30', text:'Frokost'},
        {time:'18:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','Julia Jacobsen','J√≥nfinn Stenberg','Hans Petur Hansen','Anna Kristin B√¶k','H√∏gni Fagraberg']),
      cast:P(['Esther √° Fjallinum','Hans T√≥rgar√∞','Elsa Maria Magnusard√≥ttir Olsen','Hj√°lmar Dam','Marius DC','Bj√∏rn Simonsen Ulvedal'])
    },

    // 24 Nov ‚Äî Kaffemaskine & advokat
    { id:'2025-11-24', date:'Mandag 24. november 2025', title:'Flashback 3 ¬∑ Kaffemaskine & advokat', location:{name:'Tjarnir (Presselogen + m√∏derum)', address:'T√≥rshavn'},
      program:[
        {time:'14:00', text:'Crew g√∏r kaffemaskine-scenen klar (Hans Petur, Thomas, Michael, Anna Kristin)'},
        {time:'15:00', text:'Lyd, stylist & make-up m√∏der (Ronni, Julia, Anna Kristin)'},
        {time:'15:00', text:'2 statister + 1 hovedrolle (Helena + ??? + Hj√°lmar) til make-up'},
        {time:'15:45', text:'Optagelse af kaffe-scenen starter'},
        {time:'17:00', text:'Kaffescene f√¶rdig'},
        {time:'17:05', text:'Pause (sandwich)'},
        {time:'17:15', text:'Set-up til advokat-scenen'},
        {time:'17:30', text:'2 statister (Astri√∞ & T√≥rur vi√∞ √Åir) + Hj√°lmar til make-up'},
        {time:'19:00', text:'Optagelse af advokat-scenen starter'},
        {time:'21:00', text:'SLUT'}
      ],
      crew:P(['Michael Koba','Thomas Koba','J√≥nfinn Stenberg','Anna Kristin B√¶k','Ronni Poulsen','Julia Jacobsen']),
      cast:P(['Helena','Hj√°lmar Dam','T√≥rur vi√∞ √Åir','Astri√∞ Gullborgard√≥ttir'])
    }
  ];

  // ---------- UI HELPERS ----------
  const $ = sel => document.querySelector(sel);
  const el = (tag, cls, txt) => { const x=document.createElement(tag); if(cls) x.className=cls; if(txt!==undefined) x.textContent=txt; return x };

  const personSelect = $('#personSelect');
  const search = $('#search');
  const panel = $('#panel');
  const nextDays = $('#nextDays');
  const brand = $('#brand');

  // Fyld navn-dropdown (crew+cast+statister)
  const crewOrCast = Object.entries(people)
    .filter(([n,p])=>/(Producer|Instrukt√∏r|Foto|Lys|Lyd|Make-up|Props|Skuespiller|Statist|Location)/.test(p.role))
    .sort((a,b)=>a[0].localeCompare(b[0]));
  for(const [name, info] of crewOrCast){ const opt = el('option'); opt.value = name; opt.textContent = `${name} ‚Äî ${info.role}`; personSelect.appendChild(opt); }

  // Husk valgt person og vis skema med det samme
  const savedWho = localStorage.getItem('who');
  if(savedWho && people[savedWho]){
    personSelect.value = savedWho;
    $('#myDayTitle').textContent = 'Plan for '+savedWho;
    renderMySchedule(savedWho);
  }

  function renderNextDays(){
    nextDays.innerHTML=''; const ul = el('div','list');
    for(const d of days){
      const row = el('div','row'); row.style.cursor='pointer'; row.title='Klik for at se dagens program';
      const left = el('div');
      left.appendChild(el('div','title', d.date + ' ¬∑ ' + d.title));
      left.appendChild(el('div','muted small', d.location.name + (d.location.address ? ' ¬∑ '+d.location.address : '')));
      const right = el('div');
      right.appendChild(el('span','chip', d.program[0]?.time ? 'M√∏detid ' + d.program[0].time : 'Se call sheet'));
      row.append(left,right); ul.appendChild(row);
      row.onclick = ()=>{ selectTab(tabCalls); renderDayById(d.id); };
    }
    nextDays.appendChild(ul);
  }
    nextDays.appendChild(ul);
  }

  function renderMySchedule(name){
    const mine = days.filter(d=>{ const participants = [].concat(d.crew||[], d.cast||[]); return participants.some(x=>x && x.name===name); });
    const info = people[name];
    const wrap = el('div');
    wrap.appendChild(el('div','muted small',`Navn: ${name} ¬∑ ${info?.role||''}`));
    if(mine.length===0){
      wrap.appendChild(el('p','muted','Ingen skema fundet for det valgte navn.'));
      panel.innerHTML=''; panel.appendChild(wrap); return;
    }
    const list = el('div','list');
    for(const d of mine){
      const card = el('div','row'); card.style.flexDirection='column';
      const header = el('div');
      header.appendChild(el('div','title', d.date + ' ¬∑ ' + d.title));
      header.appendChild(el('div','muted small', d.location.name + (d.location.address? ' ¬∑ '+d.location.address : '')));
      const chips = el('div');
      const call = d.program[0]?.time || '';
      if(call) chips.appendChild(el('span','chip','M√∏detid ¬∑ '+call));
      chips.appendChild(el('span','chip copy','üìç '+(d.location.address||d.location.name)));
      const prog = el('div','section');
      const h3 = el('h3'); h3.textContent = 'Dagsprogram'; prog.appendChild(h3);
      for(const p of d.program){ const line = el('div','small mono'); line.textContent = (p.time? p.time.padEnd(6,' ')+' ':'') + p.text; prog.appendChild(line); }
      const calls = el('div','two section');
      const left = el('div'); const hCast = el('h3'); hCast.textContent='Skuespillere'; left.appendChild(hCast);
      for(const c of d.cast){ left.appendChild(personRow(c)); }
      const right = el('div'); const hCrew = el('h3'); hCrew.textContent='Crew'; right.appendChild(hCrew);
      for(const c of d.crew){ right.appendChild(personRow(c)); }
      calls.append(left,right);
      card.append(header,chips,prog,calls); list.appendChild(card);
    }
    panel.innerHTML=''; panel.appendChild(wrap); panel.appendChild(el('div','divider')); panel.appendChild(list);
  }

  function personRow(p){
    const row = el('div','small');
    const name = el('div'); name.innerHTML = `<strong>${p.name}</strong> ¬∑ <span class="muted">${p.role||''}</span>`;
    const contacts = el('div','muted'); const parts=[];
    if(p.phone) parts.push(`<a href="tel:${p.phone}">üìû ${p.phone}</a>`);
    if(p.email) parts.push(`<a href="mailto:${p.email}">‚úâÔ∏è ${p.email}</a>`);
    contacts.innerHTML = parts.join(' ¬∑ ');
    row.appendChild(name); row.appendChild(contacts);
    row.style.display='flex'; row.style.flexDirection='column'; row.style.gap='2px'; row.style.padding='6px 0';
    return row;
  }

  function renderCallSheets(filter=''){
    const wrap = el('div');
    for(const d of days){
      if(filter && !JSON.stringify(d).toLowerCase().includes(filter.toLowerCase())) continue;
      const card = el('div','row'); card.style.flexDirection='column';
      const head = el('div');
      head.appendChild(el('div','title', d.date + ' ¬∑ ' + d.title));
      head.appendChild(el('div','muted small', d.location.name + (d.location.address? ' ¬∑ '+d.location.address:'')));
      card.appendChild(head);
      const prog = el('div','section'); const h3 = el('h3'); h3.textContent = 'Dagsprogram'; prog.appendChild(h3);
      for(const p of d.program){ const line = el('div','small mono'); line.textContent = (p.time? p.time.padEnd(6,' ')+' ':'') + p.text; prog.appendChild(line); }
      card.appendChild(prog);
      const calls = el('div','two section');
      const left = el('div'); left.appendChild(el('h3','', 'Skuespillere'));
      for(const c of d.cast){ left.appendChild(personRow(c)); }
      const right = el('div'); right.appendChild(el('h3','', 'Crew'));
      for(const c of d.crew){ right.appendChild(personRow(c)); }
      calls.append(left,right); card.appendChild(calls);
      wrap.appendChild(card);
    }
    panel.innerHTML=''; panel.appendChild(wrap);
  }

  function renderContacts(filter=''){
    const wrap = el('div','list');
    const entries = Object.entries(people)
      .filter(([n,p])=>/(Producer|Instrukt√∏r|Foto|Lys|Lyd|Make-up|Props|Skuespiller|Statist|Location)/.test(p.role))
      .filter(([n,p])=> !filter || (n.toLowerCase().includes(filter.toLowerCase()) || (p.role||'').toLowerCase().includes(filter.toLowerCase())))
      .sort((a,b)=>a[0].localeCompare(b[0]));
    for(const [name, p] of entries){
      const row = el('div','row');
      const L = el('div'); L.appendChild(el('div','title', name)); L.appendChild(el('div','muted small', p.role || ''));
      const R = el('div'); if(p.phone) R.appendChild(el('span','chip', 'üìû '+p.phone)); if(p.email) R.appendChild(el('span','chip', '‚úâÔ∏è '+p.email));
      row.append(L,R); wrap.appendChild(row);
    }
    panel.innerHTML=''; panel.appendChild(wrap);
  }

  // NY: Vis √©n bestemt dag (klik fra h√∏jre kolonne)
  function renderDayById(dayId){
    const d = days.find(x=>x.id===dayId);
    if(!d){ panel.innerHTML='<p class="muted small">Dagen blev ikke fundet.</p>'; return; }
    const wrap = el('div');
    const card = el('div','row'); card.style.flexDirection='column';
    const head = el('div');
    head.appendChild(el('div','title', d.date + ' ¬∑ ' + d.title));
    head.appendChild(el('div','muted small', d.location.name + (d.location.address? ' ¬∑ '+d.location.address:'')));
    const chips = el('div'); const call = d.program[0]?.time || ''; if(call) chips.appendChild(el('span','chip','M√∏detid ¬∑ '+call));
    card.appendChild(head); card.appendChild(chips);
    const prog = el('div','section'); const h3 = el('h3'); h3.textContent='Dagsprogram'; prog.appendChild(h3);
    for(const p of d.program){ const line = el('div','small mono'); line.textContent=(p.time? p.time.padEnd(6,' ')+' ':'')+p.text; prog.appendChild(line); }
    const calls = el('div','two section');
    const left = el('div'); left.appendChild(el('h3','', 'Skuespillere')); for(const c of d.cast){ left.appendChild(personRow(c)); }
    const right = el('div'); right.appendChild(el('h3','', 'Crew')); for(const c of d.crew){ right.appendChild(personRow(c)); }
    calls.append(left,right);
    card.appendChild(prog); card.appendChild(calls); wrap.appendChild(card);
    panel.innerHTML=''; panel.appendChild(wrap);
  }

  // ---------- TABS ----------
  const tabDay = $('#tab-day'), tabCalls = $('#tab-calls'), tabContacts = $('#tab-contacts');
  function selectTab(tab){ for(const t of [tabDay,tabCalls,tabContacts,tabForum]) t.setAttribute('aria-selected','false'); tab.setAttribute('aria-selected','true'); }

  tabDay.addEventListener('click',()=>{ selectTab(tabDay); const v=personSelect.value; if(v) renderMySchedule(v); else panel.innerHTML='<p class="muted small">V√¶lg navn for at se dit skema.</p>'; });
  tabCalls.addEventListener('click',()=>{ selectTab(tabCalls); renderCallSheets(search.value.trim()); });
  tabContacts.addEventListener('click',()=>{ selectTab(tabContacts); renderContacts(search.value.trim()); });
  tabForum.addEventListener('click',()=>{ selectTab(tabForum); forum.ui(); });

  // ---------- EVENTS ----------
  personSelect.addEventListener('change',()=>{
    const v = personSelect.value; localStorage.setItem('who', v||'');
    $('#myDayTitle').textContent = v? ('Plan for '+v) : 'V√¶lg et navn';
    // Altid skift til "Mit skema" n√•r man v√¶lger navn
    selectTab(tabDay);
    if(!v){ panel.innerHTML='<p class="muted small">V√¶lg navn for at se dit skema.</p>'; return }
    renderMySchedule(v);
    // Opdater forum-komponisten (aktiver skrivning)
    const reply = document.querySelector('#replyText'); const send = document.querySelector('.composer button');
    if(reply){ reply.disabled = false; reply.placeholder = 'Skriv svar‚Ä¶ (Enter sender, Shift+Enter ny linje)'; }
    if(send){ send.disabled = false; }
  });
  search.addEventListener('input',()=>{ if(tabCalls.getAttribute('aria-selected')==='true') renderCallSheets(search.value.trim()); if(tabContacts.getAttribute('aria-selected')==='true') renderContacts(search.value.trim()); });
  $('#print').addEventListener('click',()=>window.print());
  brand.addEventListener('click',()=>{ personSelect.value=''; localStorage.removeItem('who'); search.value=''; selectTab(tabDay); $('#myDayTitle').textContent='V√¶lg et navn'; panel.innerHTML='<p class="muted small">V√¶lg navn for at se dit skema.</p>'; window.scrollTo({top:0,behavior:'smooth'}); });

  // Init
  renderNextDays();
  </script>
</body>
</html>
